'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}(function(global){'use strict';var UtilitiesProto=function(){function UtilitiesProto(selector){_classCallCheck(this,UtilitiesProto);console.log('@UtilitiesProto.contructor()');this.treeSearchDepth=4;this.feature={};this.setFeatures(this.feature)}_createClass(UtilitiesProto,[{key:'event',value:function event(_event){var _this=this;var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;if(!_event){return false}var ele=this.elements;if(_event instanceof Array===false){if(typeof _event==='string'){_event=[_event]}}var _loop=function _loop(el){if(ele.hasOwnProperty(el)){_event.forEach(function(ev){ele[el].addEventListener(ev,function(ev){_this.eventController(ev,context,null)})})}};for(var el in ele){_loop(el)}}},{key:'eventController',value:function eventController(event){var context=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this;var args=arguments[2];var ele=event.target,i=0;while(ele.nodeType===1&&ele.getAttribute('data-action')===null&&i<this.treeSearchDepth){ele=ele.parentNode}if(typeof ele.getAttribute!=='function'){return false}var action=ele.getAttribute('data-action').split(','),Obj=context||this;if(action===null){return false}for(var _i=0,n=action.length;_i<n;_i++){if(typeof Obj[action[_i]]==='function'){Obj[action[_i]](event,ele);this.action=action[_i];console.log(this)}}return this}},{key:'setFeatures',value:function setFeatures(feature){feature.ontouchstart='ontouchstart'in document.documentElement===true?true:false;feature.ontouchmove='ontouchmove'in document.documentElement===true?true:false;feature.ontoucend='ontouchend'in document.documentElement===true?true:false;feature.transitionEndEvent=this.whichTransitionEvent()}},{key:'whichTransitionEvent',value:function whichTransitionEvent(){var t=void 0,el=document.createElement('faux'),transitions={'transition':'transitionend','OTransition':'oTransitionEnd','MozTransition':'transitionend','WebkitTransition':'webkitTransitionEnd'};for(var i in transitions){if(el.style[i]!==undefined){return transitions[i]}}return false}}]);return UtilitiesProto}();var Utilities=function(_UtilitiesProto){_inherits(Utilities,_UtilitiesProto);function Utilities(selector){_classCallCheck(this,Utilities);var _this2=_possibleConstructorReturn(this,(Utilities.__proto__||Object.getPrototypeOf(Utilities)).call(this));var elements=document.querySelectorAll(selector);_this2.length=elements.length;_this2.elements=elements;_this2.context=_this2;_this2.action;return _this2}return Utilities}(UtilitiesProto);return global.$=function(selector){return new Utilities(selector)}})(undefined||window);$('.user-interface').event('click',undefined||window);
